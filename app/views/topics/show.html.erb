<!-- Curriculum Table Display -->
<p id="notice"><%= notice %></p>

  <h1><%= @topic.name %> Curriculums
    <div class="level">
      
    <!-- Dropdowns to select "Level" -->
    <%= form_tag('/curriculums', remote: true) do %>

      <!-- Level Dropdown -->
        <%= select_tag(:level, options_for_select(
          [
            ['All Levels', 0], 
            ['Beginner', 1, {:class => "beginner"}], 
            ['Intermediate', 2, {:class => "intermediate"}], 
            ['Advanced', 3, {:class => "advanced"}]
          ], selected: :level ), 
          { :id => 'level' }) %>

      <% end %>
    </div>
  </h1>


  <div class="curric-list">
    <% @curriculums.each do |curriculum| %>
      <div <%if curriculum.level.to_i == 1 %> 
              class = "curriculum one <%= curriculum.topic.name %> "
              <%elsif curriculum.level.to_i == 2 %> 
              class = "curriculum two <%= curriculum.topic.name %>"
              <%elsif curriculum.level.to_i == 3 %> 
              class = "curriculum three <%= curriculum.topic.name %>"
          <%end%>>


        <div class="row">
          <div class="col-md-2">
          <!-- image of first video thumbnail -->
            <img class="thumbnail" src="https://s.ytimg.com/yts/img/yt_1200-vfl4C3T0K.png" width="100">
          </div>
          <div class="col-md-5">
      
          <%@first_video = Video.where("curriculum_id=#{curriculum.id}").order("position asc").first%> 
            Title: <%if @first_video== nil%> 
            <a href="/topics/<%=@id%>"%> 
            <%else%> 
            <a href="/curriculums/<%=curriculum.id%>/videos/<%=@first_video.id%>"%> 
            <%end%> 
            <%=curriculum.title%></a><br />
            Creator: <img src="<%= curriculum.user.image %>" width="30"><%= curriculum.user.fname %><br />
            Number of Videos: <%= curriculum.videos.length %>
          </div>
          <div class="col-md-5">
            Number of Upvotes: <%= curriculum.rating %><br />
            Level: <%= curriculum.level %><br />
          </div>
        </div>
        
      </div>
    <% end %>
  </div>

</table>